<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Daily Check‑In</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#ffffff" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; max-width: 560px; margin: 0 auto; padding: 16px; line-height: 1.4; }
    header { display:flex; justify-content:space-between; align-items:center; }
    .card { border:1px solid #e5e5e5; border-radius:14px; padding:16px; margin-top:12px; }
    label { display:block; margin:10px 0 4px; font-weight:600; }
    input[type=range]{ width:100%; }
    textarea { width:100%; height:96px; }
    button { padding:12px 16px; border:0; border-radius:10px; margin-top:12px; cursor:pointer; }
    nav { display:flex; gap:8px; margin-top:8px; }
    .muted { color:#666; font-size:0.9em; }
    .row { display:flex; gap:8px; align-items:center; }
    .row output { width:2ch; text-align:center; }
    .list { margin:0; padding:0; list-style:none; }
    .list li { padding:10px 0; border-bottom:1px dashed #ddd; }
    .right { text-align:right; }
    .toggle { display:flex; align-items:center; gap:8px; }
  </style>
</head>
<body>
  <header>
    <h1>Daily Check‑In</h1>
    <nav>
      <button id="tab-checkin">Check‑in</button>
      <button id="tab-history">History</button>
      <button id="tab-settings">Settings</button>
    </nav>
  </header>

  <section id="screen-checkin" class="card">
    <div class="muted" id="now"></div>
    <label>Physical (1–5)</label>
    <div class="row">
      <input type="range" id="physical" min="1" max="5" value="3" oninput="phOut.value=this.value">
      <output id="phOut">3</output>
    </div>

    <label>Emotional (1–5)</label>
    <div class="row">
      <input type="range" id="emotional" min="1" max="5" value="3" oninput="emOut.value=this.value">
      <output id="emOut">3</output>
    </div>

    <label>Mental (1–5)</label>
    <div class="row">
      <input type="range" id="mental" min="1" max="5" value="3" oninput="meOut.value=this.value">
      <output id="meOut">3</output>
    </div>

    <label>Spiritual (1–5)</label>
    <div class="row">
      <input type="range" id="spiritual" min="1" max="5" value="3" oninput="spOut.value=this.value">
      <output id="spOut">3</output>
    </div>

    <label>Overall mood</label>
    <select id="mood">
      <option>😀 Great</option>
      <option selected>🙂 Okay</option>
      <option>😐 Meh</option>
      <option>😟 Low</option>
    </select>

    <label>Notes (optional)</label>
    <textarea id="notes" placeholder="One or two sentences…"></textarea>

    <button id="save">Save today’s check‑in</button>
    <div id="saveStatus" class="muted"></div>
  </section>

  <section id="screen-history" class="card" hidden>
    <h2>Last 7 days</h2>
    <ul id="history" class="list"></ul>
    <div class="right muted" id="avg"></div>
  </section>

  <section id="screen-settings" class="card" hidden>
    <h2>Settings</h2>
    <div class="toggle">
      <input type="checkbox" id="syncEnabled">
      <label for="syncEnabled">Enable encrypted sync</label>
    </div>
    <label>Sync passphrase (keep secret)</label>
    <input type="password" id="passphrase" placeholder="e.g., correct horse battery staple" style="width:100%">
    <label>n8n Webhook URL (optional)</label>
    <input type="url" id="webhook" placeholder="https://your-n8n/rest/webhook/checkin" style="width:100%">
    <button id="runSync">Run Sync Now</button>
    <div class="muted">Local‑only by default. If sync is on, entries are encrypted on your device before sending.</div>
  </section>

  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }
  </script>
</body>
</html>
